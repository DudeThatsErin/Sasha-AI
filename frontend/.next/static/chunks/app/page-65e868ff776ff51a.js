(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{2601:function(e,t,r){"use strict";var a,s;e.exports=(null==(a=r.g.process)?void 0:a.env)&&"object"==typeof(null==(s=r.g.process)?void 0:s.env)?r.g.process:r(8960)},5480:function(e,t,r){Promise.resolve().then(r.bind(r,6001))},6001:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return x}});var a=r(7437),s=r(2265);class n{loadFromStorage(){try{let e=localStorage.getItem(this.STORAGE_KEYS.CHATS);if(e){let t=JSON.parse(e);t.forEach(e=>{this.chats.set(e.id,{...e,createdAt:new Date(e.createdAt),updatedAt:new Date(e.updatedAt)})})}let t=localStorage.getItem(this.STORAGE_KEYS.MESSAGES);if(t){let e=JSON.parse(t);Object.entries(e).forEach(e=>{let[t,r]=e;this.messages.set(t,r.map(e=>({...e,timestamp:new Date(e.timestamp)})))})}let r=localStorage.getItem(this.STORAGE_KEYS.ARCHIVED);if(r){let e=JSON.parse(r);e.forEach(e=>{this.archivedChats.set(e.id,{...e,createdAt:new Date(e.createdAt),updatedAt:new Date(e.updatedAt),archivedAt:new Date(e.archivedAt)})})}}catch(e){console.error("Error loading data from storage:",e)}}saveToStorage(){try{let e=Array.from(this.chats.values());localStorage.setItem(this.STORAGE_KEYS.CHATS,JSON.stringify(e));let t={};this.messages.forEach((e,r)=>{t[r]=e}),localStorage.setItem(this.STORAGE_KEYS.MESSAGES,JSON.stringify(t));let r=Array.from(this.archivedChats.values());localStorage.setItem(this.STORAGE_KEYS.ARCHIVED,JSON.stringify(r))}catch(e){console.error("Error saving data to storage:",e)}}async createChat(e){let t=Math.random().toString(36).substring(2,15),r={id:t,title:e,createdAt:new Date,updatedAt:new Date,messages:[]};return this.chats.set(t,r),this.messages.set(t,[]),this.saveToStorage(),r}async getChats(){let e=Array.from(this.chats.values());return e.sort((e,t)=>t.updatedAt.getTime()-e.updatedAt.getTime())}async getChat(e){let t=this.chats.get(e);if(!t)return null;let r=this.messages.get(e)||[];return{...t,messages:r}}async addMessage(e,t,r){let a=Math.random().toString(36).substring(2,15),s={id:a,chatId:e,content:t,sender:r,timestamp:new Date},n=this.messages.get(e)||[];n.push(s),this.messages.set(e,n);let i=this.chats.get(e);return i&&(i.updatedAt=new Date,this.chats.set(e,i)),this.saveToStorage(),s}async updateChatTitle(e,t){let r=this.chats.get(e);if(!r)return!1;let a=t.length>30?t.substring(0,30).trim():t;return r.title=a,r.updatedAt=new Date,this.chats.set(e,r),this.saveToStorage(),!0}async deleteChat(e){let t=this.chats.delete(e);return this.messages.delete(e),this.saveToStorage(),t}async archiveChat(e){let t=this.chats.get(e);if(!t)return!1;let r=await this.getChat(e);if(!r)return!1;let a={...r,archivedAt:new Date};return this.archivedChats.set(e,a),this.chats.delete(e),this.messages.delete(e),this.saveToStorage(),!0}async restoreFromArchive(e){let t=this.archivedChats.get(e);if(!t)return!1;let{archivedAt:r,...a}=t;return this.chats.set(e,a),this.messages.set(e,a.messages||[]),this.archivedChats.delete(e),this.saveToStorage(),!0}getArchivedChats(){return Array.from(this.archivedChats.values()).sort((e,t)=>t.archivedAt.getTime()-e.archivedAt.getTime())}cleanupExpiredArchives(){let e=new Date,t=new Date(e.getTime()-864e5),r=[];return this.archivedChats.forEach((e,a)=>{e.archivedAt<=t&&r.push(a)}),r.forEach(e=>this.archivedChats.delete(e)),r.length>0&&this.saveToStorage(),r.length}constructor(){this.chats=new Map,this.messages=new Map,this.archivedChats=new Map,this.STORAGE_KEYS={CHATS:"sasha_chats",MESSAGES:"sasha_messages",ARCHIVED:"sasha_archived_chats"},this.loadFromStorage()}}let i=new n;var l=r(1703);function o(e){let{isOpen:t,isCollapsed:r,onToggle:n,onCollapse:l,currentChatId:o,onChatSelect:c,onNewChat:d}=e,[h,u]=(0,s.useState)([]),[g,m]=(0,s.useState)(!1),[x,f]=(0,s.useState)([]),[p,v]=(0,s.useState)(0);(0,s.useEffect)(()=>{y(),b();let e=i.cleanupExpiredArchives();e>0&&(console.log("Cleaned up ".concat(e," expired archived chats")),b())},[]);let y=async()=>{let e=await i.getChats();u(e)},b=()=>{let e=i.getArchivedChats();f(e),v(e.length)},w=async()=>{let e=await i.createChat("New Chat");u(t=>[e,...t]),d(),c(e.id)},j=async(e,t)=>{t.stopPropagation();let r=await i.archiveChat(e);r&&(y(),b(),o===e&&c(""))},k=async(e,t)=>{t.stopPropagation();let r=await i.restoreFromArchive(e);r&&(y(),b(),c(e))},N=e=>{let t=new Date,r=t.getTime()-e.getTime(),a=Math.floor(r/864e5);return 0===a?"Today":1===a?"Yesterday":a<7?"".concat(a," days ago"):e.toLocaleDateString()},C=e=>{let t=new Date,r=new Date(e.getTime()+864e5),a=r.getTime()-t.getTime();if(a<=0)return"Expired";let s=Math.floor(a/36e5),n=Math.floor(a%36e5/6e4);return s>0?"".concat(s,"h ").concat(n,"m left"):"".concat(n,"m left")};return(0,a.jsxs)(a.Fragment,{children:[t&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:n}),(0,a.jsxs)("div",{className:"\n        fixed top-0 left-0 h-full bg-gray-50 dark:bg-gray-900 border-r border-gray-200 dark:border-gray-700 z-50\n        transform transition-all duration-300 ease-in-out\n        ".concat(t?"translate-x-0":"-translate-x-full","\n        ").concat(r?"w-16":"w-80 lg:w-64","\n        lg:relative lg:translate-x-0\n      "),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between px-4 py-4 border-b border-gray-200 dark:border-gray-700 h-[73px]",children:[!r&&(0,a.jsx)("h1",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Sasha AI"}),r&&(0,a.jsx)("div",{className:"w-8 h-8 bg-purple-600 rounded-full flex items-center justify-center mx-auto",children:(0,a.jsx)("span",{className:"text-sm font-bold text-white",children:"S"})}),(0,a.jsx)("button",{onClick:n,className:"p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-800 lg:hidden",children:(0,a.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,a.jsx)("div",{className:"p-4",children:(0,a.jsxs)("button",{onClick:w,className:"w-full flex items-center ".concat(r?"justify-center px-2 py-3":"gap-3 px-4 py-3"," rounded-lg bg-blue-600 hover:bg-blue-700 text-white transition-colors"),title:r?"New Chat":"",children:[(0,a.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),!r&&(0,a.jsx)("span",{children:"New Chat"})]})}),(0,a.jsxs)("div",{className:"flex-1 overflow-y-auto",children:[!r&&(0,a.jsx)("div",{className:"px-4 py-2",children:(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide",children:"Active Chats"})}),(0,a.jsx)("div",{className:"px-4 pb-4",children:(0,a.jsx)("div",{className:"space-y-2",children:h.map(e=>(0,a.jsxs)("div",{className:"group relative",children:[(0,a.jsx)("button",{onClick:()=>c(e.id),className:"\n                      w-full text-left rounded-lg transition-colors\n                      ".concat(r?"p-2 flex justify-center":"p-3","\n                      ").concat(o===e.id?"bg-blue-100 dark:bg-blue-900 text-blue-900 dark:text-blue-100":"hover:bg-gray-200 dark:hover:bg-gray-800 text-gray-700 dark:text-gray-300","\n                    "),title:r?e.title:"",children:r?(0,a.jsx)("div",{className:"w-6 h-6 bg-gray-400 dark:bg-gray-600 rounded-full flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-xs text-white",children:e.title.charAt(0).toUpperCase()})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"font-medium truncate pr-8",children:e.title}),(0,a.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:N(e.updatedAt)})]})}),!r&&(0,a.jsx)("button",{onClick:t=>j(e.id,t),className:"absolute right-2 top-1/2 transform -translate-y-1/2 p-1 rounded opacity-0 group-hover:opacity-100 hover:bg-gray-300 dark:hover:bg-gray-600 transition-opacity",title:"Archive chat",children:(0,a.jsx)("span",{className:"text-sm",children:"\uD83D\uDDD1️"})})]},e.id))})}),!r&&p>0&&(0,a.jsxs)("div",{className:"pb-4 border-t border-gray-200 dark:border-gray-700 pt-4",children:[(0,a.jsxs)("button",{onClick:()=>m(!g),className:"w-full flex items-center justify-between px-3 py-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-800 text-gray-700 dark:text-gray-300 transition-colors",children:[(0,a.jsxs)("span",{className:"text-sm font-medium flex items-center",children:["Archived Chats",(0,a.jsx)("span",{className:"ml-2 px-2 py-1 text-xs bg-gray-300 dark:bg-gray-600 rounded-full",children:p})]}),(0,a.jsx)("svg",{className:"w-4 h-4 transition-transform ".concat(g?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),g&&(0,a.jsx)("div",{className:"mt-2 space-y-2 pl-4",children:x.map(e=>(0,a.jsxs)("div",{className:"group relative",children:[(0,a.jsxs)("button",{onClick:()=>c(e.id),className:"w-full text-left p-3 rounded-lg transition-colors hover:bg-gray-200 dark:hover:bg-gray-800 text-gray-700 dark:text-gray-300",children:[(0,a.jsx)("div",{className:"font-medium truncate pr-8",children:e.title}),(0,a.jsxs)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Archived ",N(e.archivedAt)," • ",C(e.archivedAt)]})]}),(0,a.jsx)("button",{onClick:t=>k(e.id,t),className:"absolute right-2 top-1/2 transform -translate-y-1/2 p-1 rounded opacity-0 group-hover:opacity-100 hover:bg-gray-300 dark:hover:bg-gray-600 transition-opacity",title:"Restore chat",children:(0,a.jsx)("span",{className:"text-sm",children:"♻️"})})]},e.id))})]})]}),(0,a.jsx)("div",{className:"hidden lg:block p-4 border-t border-gray-200 dark:border-gray-700",children:(0,a.jsxs)("button",{onClick:l,className:"w-full flex items-center rounded-lg hover:bg-gray-200 dark:hover:bg-gray-800 text-gray-700 dark:text-gray-300 transition-colors ".concat(r?"justify-center px-2 py-2":"gap-3 px-4 py-2"),title:r?r?"Expand":"Collapse":"",children:[(0,a.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:r?"M13 5l7 7-7 7M5 5l7 7-7 7":"M11 19l-7-7 7-7m8 14l-7-7 7-7"})}),!r&&(0,a.jsx)("span",{children:r?"Expand":"Collapse"})]})})]})]})}function c(e){let{message:t}=e,r="user"===t.sender;return(0,a.jsxs)("div",{className:"flex gap-3 p-4 ".concat(r?"flex-row-reverse":"flex-row"),children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)("div",{className:"\n          w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium\n          ".concat(r?"bg-blue-600 text-white":"bg-purple-600 text-white","\n        "),children:r?"U":"S"})}),(0,a.jsxs)("div",{className:"\n        max-w-[70%] rounded-lg px-4 py-2\n        ".concat(r?"bg-blue-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-white","\n      "),children:[(0,a.jsx)("p",{className:"whitespace-pre-wrap",children:t.content}),(0,a.jsx)("div",{className:"\n          text-xs mt-1 opacity-70\n          ".concat(r?"text-blue-100":"text-gray-500 dark:text-gray-400","\n        "),children:t.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})}function d(e){let{message:t,type:r="info",duration:n=5e3,onClose:i}=e,[l,o]=(0,s.useState)(!0);return(0,s.useEffect)(()=>{let e=setTimeout(()=>{o(!1),setTimeout(i,300)},n);return()=>clearTimeout(e)},[n,i]),(0,a.jsx)("div",{className:"\n      fixed top-4 right-4 z-50 max-w-sm w-full\n      transform transition-all duration-300 ease-in-out\n      ".concat(l?"translate-x-0 opacity-100":"translate-x-full opacity-0","\n    "),children:(0,a.jsxs)("div",{className:"\n        flex items-center gap-3 p-4 rounded-lg shadow-lg\n        ".concat((()=>{switch(r){case"success":return"bg-green-500 text-white";case"warning":return"bg-yellow-500 text-white";case"error":return"bg-red-500 text-white";default:return"bg-blue-500 text-white"}})(),"\n      "),children:[(()=>{switch(r){case"success":return(0,a.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})});case"warning":return(0,a.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})});case"error":return(0,a.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})});default:return(0,a.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}})(),(0,a.jsx)("p",{className:"flex-1 text-sm font-medium",children:t}),(0,a.jsx)("button",{onClick:()=>{o(!1),setTimeout(i,300)},className:"p-1 hover:bg-black hover:bg-opacity-20 rounded transition-colors",children:(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})}function h(e){let t=e.trim().replace(/\s+/g," ");if(t.length<=30)return t;for(let e of[".","?","!",",",";"]){let r=t.indexOf(e);if(r>10&&r<=28)return t.substring(0,r+1).trim()}let r=t.split(" "),a="";for(let e of r){if((a+" "+e).length>27)break;a=a?a+" "+e:e}return a.length>10?a+"...":t.substring(0,27).trim()+"..."}var u=r(2601);let g="localhost"===window.location.hostname?"http://localhost:8000":u.env.NEXT_PUBLIC_API_URL||"https://api.erinskidds.com",m={CHAT:"".concat(g,"/chat")};function x(){let[e,t]=(0,s.useState)(!1),[r,n]=(0,s.useState)(!1),[u,g]=(0,s.useState)(null),[x,f]=(0,s.useState)([]),[p,v]=(0,s.useState)(""),[y,b]=(0,s.useState)(!1),w=(0,s.useRef)(null),j=(0,s.useRef)(null),{theme:k,setTheme:N}=(0,l.useTheme)(),[C,S]=(0,s.useState)(null);(0,s.useEffect)(()=>{T();let e=i.cleanupExpiredArchives();e>0&&S({message:"".concat(e," archived chat").concat(e>1?"s":""," automatically deleted after 24 hours"),type:"info"})},[]),(0,s.useEffect)(()=>{A()},[x]),(0,s.useEffect)(()=>{let e=()=>{window.innerWidth<1024&&n(!1)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let T=async()=>{let e=await i.getChats();if(0===e.length){let e=await i.createChat("New Chat");g(e),f([])}else{let t=await i.getChat(e[0].id);t&&(g(t),f(t.messages))}},A=()=>{var e;null===(e=w.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},E=async e=>{let t=await i.getChat(e);t&&(g(t),f(t.messages)),n(!1)},M=async()=>{let e=await i.createChat("New Chat");g(e),f([]),n(!1),setTimeout(()=>{var e;return null===(e=j.current)||void 0===e?void 0:e.focus()},100)},L=async e=>{if(e.preventDefault(),!p.trim()||!u||y)return;let t=p.trim(),r=0===x.length;v(""),b(!0),setTimeout(()=>{var e;return null===(e=j.current)||void 0===e?void 0:e.focus()},0);try{let e=await i.addMessage(u.id,t,"user");f(t=>[...t,e]);let a=await fetch(m.CHAT,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:t,chat_id:u.id})});if(!a.ok)throw Error("Failed to get bot response");let s=await a.json(),n=await i.addMessage(u.id,s.response,"sasha");if(f(e=>[...e,n]),r&&"New Chat"===u.title){let e=h(t),r=await i.updateChatTitle(u.id,e);r&&g(t=>t?{...t,title:e}:null)}}catch(a){console.error("Error calling bot API:",a);let e=await i.addMessage(u.id,"Sorry, I'm having trouble connecting right now. Please try again later.","sasha");if(f(t=>[...t,e]),r&&"New Chat"===u.title){let e=h(t),r=await i.updateChatTitle(u.id,e);r&&g(t=>t?{...t,title:e}:null)}}finally{b(!1),setTimeout(()=>{var e;return null===(e=j.current)||void 0===e?void 0:e.focus()},50)}};return(0,a.jsxs)("div",{className:"flex h-screen bg-white dark:bg-gray-900",onKeyDown:e=>{"Escape"===e.key&&n(!1)},children:[(0,a.jsx)(o,{isOpen:r,isCollapsed:e,onToggle:()=>n(!r),onCollapse:()=>t(!e),currentChatId:(null==u?void 0:u.id)||null,onChatSelect:E,onNewChat:M}),(0,a.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,a.jsxs)("header",{className:"flex items-center justify-between px-4 py-4 border-b border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 h-[73px]",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("button",{onClick:()=>n(!r),className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 lg:hidden","aria-label":"Toggle sidebar",children:(0,a.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white truncate",children:(null==u?void 0:u.title)||"New Chat"})]}),(0,a.jsx)("button",{onClick:()=>N("dark"===k?"light":"dark"),className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800","aria-label":"Toggle theme",children:"dark"===k?(0,a.jsx)("svg",{className:"w-5 h-5 text-yellow-500",fill:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{d:"M12 2.25a.75.75 0 01.75.75v2.25a.75.75 0 01-1.5 0V3a.75.75 0 01.75-.75zM7.5 12a4.5 4.5 0 119 0 4.5 4.5 0 01-9 0zM18.894 6.166a.75.75 0 00-1.06-1.06l-1.591 1.59a.75.75 0 101.06 1.061l1.591-1.59zM21.75 12a.75.75 0 01-.75.75h-2.25a.75.75 0 010-1.5H21a.75.75 0 01.75.75zM17.834 18.894a.75.75 0 001.06-1.06l-1.59-1.591a.75.75 0 10-1.061 1.06l1.59 1.591zM12 18a.75.75 0 01.75.75V21a.75.75 0 01-1.5 0v-2.25A.75.75 0 0112 18zM7.758 17.303a.75.75 0 00-1.061-1.06l-1.591 1.59a.75.75 0 001.06 1.061l1.591-1.59zM6 12a.75.75 0 01-.75.75H3a.75.75 0 010-1.5h2.25A.75.75 0 016 12zM6.697 7.757a.75.75 0 001.06-1.06l-1.59-1.591a.75.75 0 00-1.061 1.06l1.59 1.591z"})}):(0,a.jsx)("svg",{className:"w-5 h-5 text-gray-700",fill:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{d:"M9.528 1.718a.75.75 0 01.162.819A8.97 8.97 0 009 6a9 9 0 009 9 8.97 8.97 0 003.463-.69.75.75 0 01.981.98 10.503 10.503 0 01-9.694 6.46c-5.799 0-10.5-4.701-10.5-10.5 0-4.368 2.667-8.112 6.46-9.694a.75.75 0 01.818.162z"})})})]}),(0,a.jsx)("div",{className:"flex-1 overflow-y-auto",children:0===x.length?(0,a.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-purple-600 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)("span",{className:"text-2xl font-bold text-white",children:"S"})}),(0,a.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Welcome to Sasha AI"}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Start a conversation by typing a message below"})]})}):(0,a.jsxs)("div",{className:"pb-4",children:[x.map(e=>(0,a.jsx)(c,{message:e},e.id)),y&&(0,a.jsxs)("div",{className:"flex gap-3 p-4",children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-full bg-purple-600 flex items-center justify-center text-sm font-medium text-white",children:"S"}),(0,a.jsx)("div",{className:"bg-gray-200 dark:bg-gray-700 rounded-lg px-4 py-2",children:(0,a.jsxs)("div",{className:"flex space-x-1",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-gray-500 rounded-full animate-bounce"}),(0,a.jsx)("div",{className:"w-2 h-2 bg-gray-500 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),(0,a.jsx)("div",{className:"w-2 h-2 bg-gray-500 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})]}),(0,a.jsx)("div",{ref:w})]})}),(0,a.jsx)("div",{className:"border-t border-gray-200 dark:border-gray-700 p-4 bg-white dark:bg-gray-900",children:(0,a.jsxs)("form",{onSubmit:L,className:"flex gap-3",children:[(0,a.jsx)("input",{ref:j,type:"text",value:p,onChange:e=>v(e.target.value),placeholder:"Type your message...",autoFocus:!0,className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white"}),(0,a.jsx)("button",{type:"submit",disabled:!p.trim()||y,className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white rounded-lg transition-colors disabled:cursor-not-allowed",children:"Send"})]})})]}),C&&(0,a.jsx)(d,{message:C.message,type:C.type,onClose:()=>S(null)})]})}},1703:function(e,t,r){"use strict";r.r(t),r.d(t,{ThemeProvider:function(){return i},useTheme:function(){return l}});var a=r(7437),s=r(2265);let n=(0,s.createContext)({theme:"dark",setTheme:()=>null});function i(e){let{children:t,defaultTheme:r="dark",...i}=e,[l,o]=(0,s.useState)(r);return(0,s.useEffect)(()=>{let e=window.document.documentElement;e.classList.remove("light","dark"),e.classList.add(l)},[l]),(0,a.jsx)(n.Provider,{...i,value:{theme:l,setTheme:o},children:t})}let l=()=>{let e=(0,s.useContext)(n);if(void 0===e)throw Error("useTheme must be used within a ThemeProvider");return e}},8960:function(e){!function(){var t={229:function(e){var t,r,a,s=e.exports={};function n(){throw Error("setTimeout has not been defined")}function i(){throw Error("clearTimeout has not been defined")}function l(e){if(t===setTimeout)return setTimeout(e,0);if((t===n||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:n}catch(e){t=n}try{r="function"==typeof clearTimeout?clearTimeout:i}catch(e){r=i}}();var o=[],c=!1,d=-1;function h(){c&&a&&(c=!1,a.length?o=a.concat(o):d=-1,o.length&&u())}function u(){if(!c){var e=l(h);c=!0;for(var t=o.length;t;){for(a=o,o=[];++d<t;)a&&a[d].run();d=-1,t=o.length}a=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===i||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function g(e,t){this.fun=e,this.array=t}function m(){}s.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];o.push(new g(e,t)),1!==o.length||c||l(u)},g.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=m,s.addListener=m,s.once=m,s.off=m,s.removeListener=m,s.removeAllListeners=m,s.emit=m,s.prependListener=m,s.prependOnceListener=m,s.listeners=function(e){return[]},s.binding=function(e){throw Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(e){throw Error("process.chdir is not supported")},s.umask=function(){return 0}}},r={};function a(e){var s=r[e];if(void 0!==s)return s.exports;var n=r[e]={exports:{}},i=!0;try{t[e](n,n.exports,a),i=!1}finally{i&&delete r[e]}return n.exports}a.ab="//";var s=a(229);e.exports=s}()},622:function(e,t,r){"use strict";var a=r(2265),s=Symbol.for("react.element"),n=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,l=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,r){var a,n={},c=null,d=null;for(a in void 0!==r&&(c=""+r),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)i.call(t,a)&&!o.hasOwnProperty(a)&&(n[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps)void 0===n[a]&&(n[a]=t[a]);return{$$typeof:s,type:e,key:c,ref:d,props:n,_owner:l.current}}t.Fragment=n,t.jsx=c,t.jsxs=c},7437:function(e,t,r){"use strict";e.exports=r(622)}},function(e){e.O(0,[971,472,744],function(){return e(e.s=5480)}),_N_E=e.O()}]);